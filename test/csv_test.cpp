#include <stdio.h>
#include <stdlib.h>
#include "tool.h"

int main(int argc, char** argv) {

//	char ldata[] = "H01,N5001,N5002,0.550,30.0,20000,1,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,2,3,0,0,0,0,0,0,0,0,1,0,0,G,60,2,,3  ,,,,,1,140.715469,38.117085,140.715873,38.120293,3,140.714462,38.117973,140.714418,38.118735,140.714947,38.119601\n";

    char ldata[] = "\"A01       \",\"401       \",\"402       \",  2.800, 40.0,9600,5,0,0,0,0,0,0,0,0,0,0, 39.4, 35.2, 0.67,3215,0,0,2496,0,0,202,0,0,517,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,   9.2,0,2521,694,0,0,0, 35.9, 24.5, 1.05,5056,0,745,3209,0,0,179,0,220,703,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,  11.1,0,2223,2353,399,81,0,0,0,0,\"3\",0,0,\"  \",\"   \",\"          \",      5881,      2569,      6209,      3741,0\n";

	char** pdata = new char*[200];
	for(int i=0; i < 200; i++) pdata[i] = NULL;

	char* temp = csv_parser(ldata, pdata, 200, ',', '.');

	printf("Resturn value:[%s]\n", temp);
	for(int i=0; i < 200; i++) {
		if( pdata[i] == NULL ) break;
		printf("%5d [%s]\n",i+1, pdata[i]);
	}
	
	delete[] pdata;
}
